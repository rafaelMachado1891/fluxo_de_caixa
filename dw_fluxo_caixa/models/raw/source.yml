version: 2

sources:
  - name: db
    schema: public
    tables: 

      - name: tbl_fluxo
        description: tabela que contem os dados de lançamento dos titulos bancarios no erp de origem
        columns:
         - name: numero_titulo
           description: 'ID do titulo de pagamento cadastrado no sistema de origem'
           data_type: TEXT
           tests:
            - not_null  # Garante que não há valores nulos    
            - unique        
         - name: tipo_credor
           description: 'identificador do tipo de nota fiscal o titulo é proveniente ex: "entrada de nota fiscal", "saida de nota fiscal" verificar utilidade da coluna '
           data_type: INTEGER
           tests:
            - not_null
         - name: id_cliente
           description: 'identificar unico do cliente'
           data_type: TEXT
           tests:
            - not_null
         - name: "tipo_pagamento"
           description: 'meio de pagamento do titulo: "duplicata/ cartão/ carteira", verificar a utilidade da coluna'
           data_type: TEXT
         - name: "data_emissao" 
           description: 'data de emissao do titulo'
           data_type: DATE
           tests: 
            - not_null
         - name: "vencimento"
           description: 'data de vencimento do titulo'
           data_type: DATE
           tests:
            - not_null
         - name: valor_titulo
           description: 'valor monetario do titulo'
           data_type: DECIMAL
           tests:
            - not_null
         - name: "instituicao"
           description: 'identificador da instituicao de pagamento exemplo: "banco" '
           data_type: DECIMAL
         - name: situacao_titulo
           description: 'marcacao identificando se titulo esta pago, pendent ou parcial ('')'
         - name: grupo
           description: 'categoria/tipo do produto'
      - name: produtos
        description: 'tabela geral com todos os produtos'
        columns:
         - name: codigo
           description: 'identificado unico do produto'
         - name: descricao
           description: 'descricao do produto'
         - name: referencia
           description: 'descricao resumida do produto'
         - name: linha
           description: 'identificacao da linha do produto'
         - name: data_ultimo_movimento
           description: 'registro da ultima movimentacao no banco de dados de origem'
      - name: estoque_minimo
        description: 'tabela geral com todos os produtos'
        columns:
          - name: codigo
            description: 'identificado unico do produto'
          - name: descricao
            description: 'descricao do produto'
          - name: referencia
            description: 'descricao resumida do produto'
          - name: estoque_minimo
            description: 'estoque minimo do produto'
          - name: linha
            description: 'identificacao da linha do produto'
          - name: data_alteracao_estoque
            description: 'registro da data de alteração do estoque no sistema de origem'